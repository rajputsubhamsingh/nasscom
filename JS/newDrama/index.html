<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title> 
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="wrapper rounded bg-white">
    
        <div class="h3">Registration Form</div>
    
        <div class="form">
            <div class="row">
                <div class="col-md-6 mt-md-0 mt-3">
                    <label>First Name</label>
                    <input 
                        id="firstName"
                        type="text" class="form-control" required>
                </div>
                <div class="col-md-6 mt-md-0 mt-3">
                    <label>Last Name</label>
                    <input 
                        id="lastName"
                        type="text" class="form-control" required>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mt-md-0 mt-3">
                    <label>Birthday</label>
                    <input 
                        id="date"
                        type="date" class="form-control" required>
                </div>
                <div class="col-md-6 mt-md-0 mt-3">
                    <label>Gender</label>
                    <div class="d-flex align-items-center mt-2">
                        <label  
                            class="option">
                            <input id="Genbox" type="radio" name="radio">Male
                            <span class="checkmark"></span>
                        </label>
                        <label class="option ms-4">
                            <input id="Genbox" type="radio" name="radio">Female
                            <span class="checkmark"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mt-md-0 mt-3">
                    <label>Email</label>
                    <input 
                        id="emailId"
                        type="email" class="form-control" required>
                </div>
                <div class="col-md-6 mt-md-0 mt-3">
                    <label>Phone Number</label>
                    <input 
                        id="phoneNumber"
                        type="tel" class="form-control" required>
                </div>
            </div>
            <div class=" my-md-2 my-3">
                <label>Subject</label>
                <select id="sub" required>
                    <option value="" selected hidden>Choose Option</option>
                    <option value="Maths">Maths</option>
                    <option value="Science">Science</option>
                    <option value="Social">Social</option>
                    <option value="Hindi">Hindi</option>
                </select>
            </div> 
            <button id="submit" class="btn btn-primary mt-3">Submit</button>
        </div>
    
    </div> 

    <script type="module">
        // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries

            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyAiJhPFunApVu6drVN1vlXUigYl_SqyuiY",
                authDomain: "fir-demo-ba461.firebaseapp.com",
                projectId: "fir-demo-ba461",
                storageBucket: "fir-demo-ba461.appspot.com",
                messagingSenderId: "861717653930",
                appId: "1:861717653930:web:f80f11d10727209a46e3d3"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);

            import { getDatabase, ref, get, set, child, update, remove } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-database.js";

            const db = getDatabase()

            var firstName = document.getElementById("firstName");
            var lastName = document.getElementById("lastName");
            var date = document.getElementById("date");
            var gender = document.getElementById("Genbox");
            var emailId = document.getElementById("emailId");
            var phoneNumber = document.getElementById("phoneNumber");
            var subject = document.getElementById("sub");


            var submitbtn = document.getElementById("submit");


            // submit data function
            function SubmitData() {
                console.log('hlo');
                set(ref(db, "TheStudents/" + phoneNumber.value), {
                    FirstName: firstName.value,
                    LastName: lastName.value,
                    BirthDate: date.value,
                    Gender: gender.value,
                    EmailID: emailId.value,
                    PhoneNumber: phoneNumber.value,
                    Subject: subject.value
                })
                    .then(() => {
                        alert("data stored successfully..")
                    })
                    .catch((err) => {
                        alert("unsuccessful, error : " + err)
                    })
            }

            submitbtn.addEventListener('click', SubmitData)
    </script>
</body>
</html>